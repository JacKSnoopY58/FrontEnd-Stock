import{a as p}from"./upsvKRUO.js";import{a as g}from"./Cz0CWeBA.js";import{_ as u,c as n,a as e,n as h,v as x,m as f,F as d,q as c,d as y,t as l,p as w,o as i,s as m}from"./Bpht06DM.js";const _={data(){return{users:[],currentPage:1,perPage:5,searchQuery:"",loading:!1,token:g.get("token")}},computed:{filteredUsers(){return this.users.filter(o=>o.name.toLowerCase().includes(this.searchQuery.toLowerCase())||o.uid.toString().includes(this.searchQuery))},paginatedUsers(){const o=(this.currentPage-1)*this.perPage,s=this.currentPage*this.perPage;return this.filteredUsers.slice(o,s)},totalPages(){return Math.ceil(this.filteredUsers.length/this.perPage)},pages(){return Array.from({length:this.totalPages},(o,s)=>s+1)},startIndex(){return(this.currentPage-1)*this.perPage},endIndex(){return Math.min(this.startIndex+this.perPage,this.filteredUsers.length)}},methods:{getdata(){this.loading=!0,p.get("https://project-stock.onrender.com/api/users",{headers:{Authorization:`Bearer ${this.token}`}}).then(o=>{this.users=o.data.data,this.loading=!1}).catch(o=>{console.error("Error fetching data:",o),this.loading=!1})},goToPage(o){o<1||o>this.totalPages||(this.currentPage=o)}},mounted(){this.getdata()},watch:{searchQuery(){this.currentPage=1}}},b={class:""},v={class:"mt-10 rounded-xl px-5 w-screen sm:w-full"},k={class:"bg-gray-500 p-5 rounded"},P={class:"bg-white rounded p-2 flex justify-end"},C={class:"w-80"},L={class:""},U={class:"relative"},j={class:"flow-root mt-5 overflow-auto"},A={class:"min-w-full divide-y divide-gray-300"},B={key:0,class:"text-red-500"},I={class:"divide-y divide-gray-200 bg-white"},N={class:"pl-5"},Q={class:"w-10"},T=["src"],V={class:"whitespace-nowrap py-5 pr-10 text-sm sm:pl-0 sm:w-3"},M={class:"flex items-center"},S={class:""},D={class:"font-medium text-gray-900"},H={class:"text-gray-500 text-sm sm:hidden"},q={class:"whitespace-nowrap px-3 py-5 text-sm text-gray-500 hidden sm:table-cell"},z={class:"hidden whitespace-nowrap px-3 py-5 text-sm text-gray-500 sm:table-cell"},E={class:"hidden whitespace-nowrap px-3 py-5 text-sm text-gray-500 sm:table-cell"},F={class:"hidden whitespace-nowrap px-3 py-5 text-sm text-gray-500 sm:table-cell"},Z={class:"whitespace-nowrap px-3 py-5 text-sm text-gray-500 hidden sm:table-cell"},R={class:"flex justify-between items-center mt-4 h-auto bg-white rounded-md p-3 flex-col sm:flex-row"},G={class:"text-sm sm:text-base"},J=["value"],K={class:"mb-5"},O={class:"flex items-center justify-center space-x-2 mt-5"},W=["disabled"],X=["onClick"],Y=["disabled"];function $(o,s,ee,te,r,a){return i(),n("div",b,[e("div",v,[e("div",k,[e("div",P,[e("div",C,[e("form",L,[e("div",U,[s[5]||(s[5]=e("div",{class:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"},[e("svg",{class:"w-3 h-3 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1)),h(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>r.searchQuery=t),type:"search",id:"default-search",class:"block w-full p-4 ps-10 text-sm text-gray-900 border rounded-xl h-5",placeholder:"Search Name, ID...",required:""},null,512),[[x,r.searchQuery]])])])])]),e("div",null,[e("div",j,[e("table",A,[s[7]||(s[7]=e("thead",{class:"bg-black text-white"},[e("tr",null,[e("th",{scope:"col",class:"ml-5 pr-3 text-sm font-semibold sm:pl-0"}),e("th",{scope:"col",class:"text-left ml-5 pr-3 text-sm font-semibold sm:pl-0"}," Name "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold hidden sm:table-cell"}," ID "),e("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold sm:table-cell"}," Username "),e("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold sm:table-cell"}," Password "),e("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold sm:table-cell"}," Role "),e("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold sm:table-cell"}," Status "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 sm:pl-0"})])],-1)),r.users.length===0&&!r.loading?(i(),n("div",B," ไม่มีข้อมูลหรือการโหลดล้มเหลว ")):f("",!0),e("tbody",I,[(i(!0),n(d,null,c(a.paginatedUsers,t=>(i(),n("tr",{key:t.uid,class:"cursor-pointer hover:bg-gray-100"},[e("td",N,[e("div",Q,[e("img",{class:"rounded-full",src:t.image,alt:""},null,8,T)])]),e("td",V,[e("div",M,[e("div",S,[e("div",D,l(t.name),1),e("div",H,l(t.uid)+" "+l(o.person.role),1)])])]),e("td",q,l(t.uid),1),e("td",z,l(t.username),1),e("td",E,l(t.password),1),e("td",F,l(t.role),1),e("td",Z,[e("span",{class:m(["inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ",t.status==="Active"?"bg-green-50 text-green-700 ring-green-600/20 ":"bg-red-50 text-red-700 ring-red-600/20 "])},l(t.status),3)]),s[6]||(s[6]=e("td",{class:"flex relative whitespace-nowrap py-5 text-sm font-medium"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6 text-black"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})]),e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6 ml-5 text-red-500"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])],-1))]))),128))])])])]),e("div",R,[e("div",G,[y(" รายการที่ "+l(a.startIndex+1)+" ถึง "+l(a.endIndex)+" จากทั้งหมด "+l(r.users.length)+" รายการ ",1),h(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>r.perPage=t),onChange:s[2]||(s[2]=t=>r.currentPage=1)},[(i(),n(d,null,c([5,10,15,20],t=>e("option",{key:t,value:t},l(t)+" รายการต่อหน้า ",9,J)),64))],544),[[w,r.perPage]])]),e("div",K,[e("footer",O,[e("button",{onClick:s[3]||(s[3]=t=>a.goToPage(r.currentPage-1)),disabled:r.currentPage===1,class:"px-2 py-1 bg-gray-200 text-gray-500 rounded disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,W),(i(!0),n(d,null,c(a.pages,t=>(i(),n("button",{key:t,onClick:se=>a.goToPage(t),class:m(["px-2 py-1 rounded",t===r.currentPage?"bg-blue-500 text-white":"bg-gray-200 text-gray-500"])},l(t),11,X))),128)),e("button",{onClick:s[4]||(s[4]=t=>a.goToPage(r.currentPage+1)),disabled:r.currentPage===a.totalPages,class:"px-2 py-1 bg-gray-200 text-gray-500 rounded disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,Y)])])])])])])}const ae=u(_,[["render",$]]);export{ae as default};
